# -*- coding: utf-8 -*-
from flask import request, g
import datetime

from . import Resource
from .. import schemas


class Swagger(Resource):

    def get(self):

        return {'info': {'version': '1.0.0', 'title': 'MOOC Student API'}, 'paths': {'/oauth/auth_approach/{approach}': {'get': {'security': [{'OAuth2': ['open']}], 'responses': {200: {'description': 'auth approach list', 'schema': {'$ref': '#/definitions/Approach'}}, 'default': {'description': 'Unexpected error', 'schema': {'$ref': '#/definitions/Error'}}}, 'parameters': [{'$ref': '#/parameters/AccessToken'}, {'required': True, 'type': 'string', 'name': 'approach', 'in': 'path'}], 'summary': u'\u5f53\u524d\u7528\u6237\u53ef\u7528\u7684\u8ba4\u8bc1\u65b9\u5f0f'}, 'delete': {'security': [{'OAuth2': ['open']}], 'summary': u'\u89e3\u9664\u7ed1\u5b9a', 'responses': {204: {'description': u'\u5220\u9664\u6210\u529f'}}, 'parameters': [{'required': True, 'type': 'string', 'name': 'access_token', 'in': 'header'}, {'required': True, 'type': 'string', 'name': 'approach', 'in': 'path'}], 'tags': ['OAuth']}}, '/oauth/auth_approach': {'post': {'security': [{'OAuth2': ['open']}], 'responses': {201: {'description': u'\u7ed1\u5b9a\u6210\u529f'}}, 'parameters': [{'$ref': '#/parameters/AccessToken'}, {'required': True, 'in': 'body', 'name': 'approach', 'schema': {'$ref': '#/definitions/Approach'}}], 'summary': u'\u7ed1\u5b9a\u65b0\u7684\u8ba4\u8bc1\u65b9\u5f0f'}, 'get': {'security': [{'OAuth2': ['open']}], 'summary': u'\u5f53\u524d\u7528\u6237\u53ef\u7528\u7684\u8ba4\u8bc1\u65b9\u5f0f', 'responses': {200: {'description': 'auth approach list', 'schema': {'$ref': '#/definitions/Approach'}}, 'default': {'description': 'Unexpected error', 'schema': {'$ref': '#/definitions/Error'}}}, 'parameters': [{'$ref': '#/parameters/AccessToken'}], 'tags': ['oauth']}}, '/users/current': {'get': {'security': [{'OAuth2': ['open']}], 'responses': {200: {'description': 'user info', 'schema': {'$ref': '#/definitions/User'}}, 'default': {'description': 'Unexpected error', 'schema': {'$ref': '#/definitions/Error'}}}, 'parameters': [{'$ref': '#/parameters/AccessToken'}], 'summary': 'get current user info'}}, '/oauth/token': {'post': {'responses': {'default': {'description': 'Unexpected error', 'schema': {'$ref': '#/definitions/Error'}}, 201: {'description': 'access token', 'schema': {'$ref': '#/definitions/Token'}}}, 'parameters': [{'required': True, 'in': 'body', 'name': 'authentication', 'schema': {'$ref': '#/definitions/Authentication'}}], 'tags': ['oauth'], 'operationId': 'oauth_create_token', 'summary': u'\u4f7f\u7528\u8d26\u53f7\u6362\u53d6 token', 'description': u"\u8d26\u53f7\u53ef\u4ee5\u5305\u62ec\u5fae\u535a\u3001\u5fae\u4fe1\u3001Email\u3001\u624b\u673a\u7b49\u591a\u79cd\u65b9\u5f0f.\n\u5982\u679c\u4f7f\u7528\u6ca1\u6709\u6ce8\u518c\u8fc7\u7684\u5fae\u535a\u6216\u5fae\u4fe1\u6765\u83b7\u53d6token, \u5219\u8fd4\u56detoken\u7684 scope \u4e3a ['register'], \u4ee5\u6b64\u8868\u660e\u9700\u8981\u5148\u6ce8\u518c\u4e00\u4e2a\u7528\u6237.\n"}}, '/users': {'post': {'security': [{'OAuth2': ['register']}], 'summary': 'user register', 'responses': {201: {'description': 'ok'}}, 'parameters': [{'$ref': '#/parameters/AccessToken'}, {'in': 'body', 'name': 'user', 'schema': {'$ref': '#/definitions/User'}}], 'description': u'\u7528\u6237\u6ce8\u518c, \u9700\u4f7f\u7528\u6709 register scope \u7684 access_token \u624d\u80fd\u6ce8\u518c\u7528\u6237.'}}}, 'schemes': ['https'], 'parameters': {'AccessToken': {'required': True, 'type': 'string', 'name': 'access_token', 'in': 'header'}}, 'produces': ['application/json'], 'basePath': '/v1', 'securityDefinitions': {'OAuth2': {'type': 'oauth2', 'tokenUrl': 'https://api.student.guokr.com/oauth/token', 'flow': 'password', 'scopes': {'register': u'\u7528\u6237\u6ce8\u518c', 'open': u'\u5f00\u653e API'}}}, 'host': 'api.student.guokr.com', 'definitions': {'User': {'properties': {'nickname': {'type': 'string'}, 'avatar': {'type': 'string'}}}, 'Authentication': {'required': ['username', 'password', 'client_id', 'client_secret'], 'properties': {'username': {'type': 'string', 'description': u'\u5fae\u535auid / email .. \u5bf9\u5e94 approach'}, 'password': {'type': 'string', 'description': u'\u5fae\u535aaccess_token / \u5bc6\u7801 ..'}, 'auth_approach': {'enum': ['weibo', 'weixin', 'email', 'phone'], 'type': 'string', 'description': u'\u8ba4\u8bc1\u65b9\u5f0f. weibo / weixin / email / phone'}, 'client_id': {'type': 'string', 'description': u'\u5ba2\u6237\u7aef id'}, 'client_secret': {'type': 'string', 'description': u'\u5ba2\u6237\u7aef\u5bc6\u7801'}, 'grant_type': {'enum': ['password', 'refresh_token'], 'type': 'string', 'description': u'\u8ba4\u8bc1\u7c7b\u578b. password / refresh_token'}}}, 'Approach': {'properties': {'approach': {'type': 'string'}, 'identity': {'type': 'string'}}}, 'Token': {'properties': {'access_token': {'type': 'string'}, 'token_type': {'default': 'Bearer', 'type': 'string'}, 'expires_in': {'type': 'integer', 'format': 'int32'}, 'scope': {'items': {'enum': ['register', 'open'], 'type': 'string'}, 'type': 'array'}}}, 'Error': {'properties': {'message': {'type': 'string'}, 'code': {'type': 'integer', 'format': 'int32'}, 'fields_': {'type': 'string'}}}}, 'swagger': '2.0', 'consumes': ['application/json']}